\documentclass[10pt]{article}

\usepackage[a4paper, landscape, twocolumn, twoside]{geometry}

\usepackage{calc}
\setlength{\topmargin}{-1in + 15pt}
\setlength{\headheight}{12pt}
\setlength{\headsep}{10pt}
\setlength{\footskip}{0pt}
\setlength{\textheight}{\paperheight - 60pt}

\setlength{\oddsidemargin}{-1in + 30pt}
\setlength{\evensidemargin}{-1in + 30pt}
\setlength{\textwidth}{\paperwidth - 60pt}

\setlength{\columnsep}{0.4in}
\usepackage{xeCJK}
\setsansfont{Source Code Pro}
\setCJKmainfont{Noto Sans CJK JP}
\setCJKsansfont{Noto Sans CJK JP}
\setCJKmonofont{Noto Sans CJK JP}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead[RE,RO]{\bfseries\thepage}
\fancyhead[LE,LO]{\bfseries\leftmark}
\fancyhead[C]{\bfseries RogerRo}
\fancyfoot{}

\usepackage{listings}
\lstset{
	language=C++,
	breaklines=true,
	tabsize=2,
	basicstyle=\sf\footnotesize,
	numberstyle=\sf\footnotesize,
	commentstyle=\sf\footnotesize,
	numbers=left,
	frame=trbl,
	showstringspaces = false,
	escapeinside=``,
	extendedchars=false
}

\usepackage{geometry}
%\geometry{left=2cm,right=1cm,top=1.2cm,bottom=1.5cm,headsep=0.1cm,footnotesep=0.1cm}
\usepackage{courier}

\usepackage[
	CJKbookmarks=true,
	colorlinks,
	linkcolor=black,
	anchorcolor=black,
	citecolor=black
]{hyperref}
\AtBeginDvi{\special{pdf:tounicode UTF8-UCS2}}

\usepackage{sectsty}
\sectionfont{\large}
\subsectionfont{\normalsize}
\subsubsectionfont{\small}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{booktabs}

\usepackage{indentfirst}
\setlength{\parindent}{0em}

\begin{document}
\title{\textbf{Templates For ACM}}
\date{}
\author{\textbf{RogerRo}}
\maketitle
\pagenumbering{Roman}
\tableofcontents
\newpage
%==================================================
\pagenumbering{arabic}
\setcounter{page}{1}
\section{基础/配置/编译}
\subsection{一般母版}
\lstinputlisting{Template/template.cpp}

\subsection{fread}
\lstinputlisting{Template/fread.cpp}

\subsection{编译}
\lstinputlisting{Template/compile.cpp}

\subsection{位运算}
\lstinputlisting{Template/bithacks.cpp}

\subsection{离散化}
\lstinputlisting{Template/discretization.cpp}

\subsection{Linux对拍}
\lstinputlisting{Template/match.sh}

\subsection{vimrc}
\lstinputlisting{Template/vimrc}

\subsection{gdb}
\lstinputlisting{Template/gdb.cpp}
%==================================================
\section{数学}
\subsection{分数类}
\lstinputlisting{Template/template_fraction.cpp}

\subsection{高精度类}
\lstinputlisting{Template/template_highprecision.cpp}

\subsection{矩阵类}
\lstinputlisting{Template/template_matrix.cpp}

\subsection{GCD}
$O(logN)$
\lstinputlisting{Template/gcd.cpp}

\subsection{快速乘法}
$O(logN)$
\lstinputlisting{Template/mul.cpp}

\subsection{快速幂}
$O(logM)$
\lstinputlisting{Template/pow.cpp}

\subsection{找数列线性递推式}
\lstinputlisting{Template/patternfinding.cpp}

\subsection{筛素数-欧拉筛法}
$O(N)$
\lstinputlisting{Template/euler_sieve.cpp}

\subsection{线性方程组-高斯消元}
$O(N^3)$
\lstinputlisting{Template/gauss_elimination.cpp}

\subsection{高阶代数方程求根-求导}
$O(N^3*S)$，S取决于精度
\lstinputlisting{Template/equation.cpp}

\subsection{FFT}
$O(NlogN)$
\lstinputlisting{Template/fft.cpp}

\subsection{NTT}
$O(NlogN)$\\
费马质数$r\cdot 2^k+1$作模则$N$最大约为$2^k$\\
$2281701377=17*2^{27}+1$(平方刚好不爆LL), $1004535809=479*2^{21}+1, 998244353=119*2^{23}+1$，原根都是3;\\
$786433=3*2^{18}+1$原根是10，$880803841=105*2^{23}+1$原根是26
\lstinputlisting{Template/ntt.cpp}
%==================================================
\section{几何}
\subsection{平面几何类包}
下面提到皮克公式：$S=I+\frac{B}{2}-1$描述顶点都在格点的多边形面积，$I, B$分别为多边形内、边上格点
\lstinputlisting{Template/template_geometry.cpp}
%==================================================
\section{DP}
%==================================================
\section{串}
\subsection{最长回文子串-Manacher}
$O(N)$
\lstinputlisting{Template/manacher.cpp}

\subsection{字符串匹配-KMP}
$O(N)$
\lstinputlisting{Template/kmp.cpp}

\subsection{多模匹配-AC自动机}
求n个模式串中有多少个出现过，模式串相同算作多个，$O(\sum P_i+T)$
\lstinputlisting{Template/aho_corasick.cpp}

\subsection{后缀自动机}
路径对应子串\\
非克隆节点至少对应一个前缀\\
子串endpos为出现位置末尾下标\\
结点endpos一致\\
结点内子串为连续的“子串区间”（k后缀所存在则相同\\
suffixlink指向endpos增大最少的母集\\
反向suffixlink构树是反前缀树\\
endpos集合为反向suffixlink能走到的所有非克隆点的firstendpos\\
\lstinputlisting{Template/sam.cpp}
%==================================================
\section{图/树}
\subsection{单源最短路-Dijkstra}
不加堆，$O(V^2+E)$
\lstinputlisting{Template/dijkstra.cpp}
加堆，$O(ElogE+V)$
\lstinputlisting{Template/dijkstra2.cpp}

\subsection{最短路-Floyd}
$O(V^3+E)$
\lstinputlisting{Template/floyd.cpp}

\subsection{单源最短路-SPFA}
不加优化，$O(VE+V^2)=O(kE)$
\lstinputlisting{Template/spfa.cpp}
SLF+LLL优化，$O(VE+V^2)=O(kE)$
\lstinputlisting{Template/spfa2.cpp}

\subsection{二分图最大匹配-匈牙利}
$O(VE)$
\lstinputlisting{Template/hungary.cpp}

\subsection{有向图极大强连通分量-Tarjan强连通}
$O(V+E)$
\lstinputlisting{Template/scc_tarjan.cpp}

\subsection{最大流-iSAP}
简版（无BFS，递归，gap，cur），$O(V^2*E)$
\lstinputlisting{Template/isap.cpp}
完全版（有BFS，非递归，gap，cur），$O(V^2*E)$
\lstinputlisting{Template/isap2.cpp}

\subsection{最小生成树-Prim}
不加堆，$O(V+E)$
\lstinputlisting{Template/prim.cpp}
加堆，$O(V+E)$
\lstinputlisting{Template/prim2.cpp}

\subsection{最小生成树-Kruskal}
$O(ElogE+αE)$
\lstinputlisting{Template/kruskal.cpp}

\subsection{树的直径-BFS}
$O(N)$
\lstinputlisting{Template/tree_diameter.cpp}

\subsection{LCA-TarjanLCA}
$O(αN+Q)$
\lstinputlisting{Template/lca_tarjan.cpp}
%==================================================
\section{数据结构}
\subsection{并查集}
\lstinputlisting{Template/disjoint_set.cpp}

\subsection{区间和\_单点修改区间查询-树状数组}
$O(NlogN+QlogN)$
\lstinputlisting{Template/bit.cpp}

\subsection{区间和\_区间修改单点查询-树状数组}
$O(NlogN+QlogN)$
\lstinputlisting{Template/bit2.cpp}

\subsection{区间和\_区间修改区间查询-树状数组}
差分得数列$d_i=a_i-a_{i-1}$，则
\begin{equation*}
\sum_{i=1}^xa_i=(x+1)\sum_{i=1}^xd_i-\sum_{i=1}^xi\cdot d_i
\end{equation*}
$O(NlogN+QlogN)$
\lstinputlisting{Template/bit3.cpp}

\subsection{区间和-线段树}
$O(NlogN+QlogN)$
\lstinputlisting{Template/segment_tree.cpp}

\subsection{平衡树-Treap}
$O(QlogN)$
\lstinputlisting{Template/treap.cpp}

\subsection{平衡树-Splay}
$O(QlogN)$
\lstinputlisting{Template/splay.cpp}

\subsection{区间第k大\_无修改-主席树}
$O(NlogN+QlogN)$
\lstinputlisting{Template/persistent_segment_tree.cpp}

\subsection{区间第k大\_有修改-树状数组套主席树}
$O(NlogN+QlogNlogN)$
\lstinputlisting{Template/persistent_segment_tree2.cpp}

\subsection{RMQ-ST}
$O(NlogN)~O(1)$
\lstinputlisting{Template/st.cpp}
%==================================================
\section{其它}
\subsection{n皇后问题-构造}
（输出任一方案），$O(n)$
\lstinputlisting{Template/n_queen.cpp}
%==================================================
\section{纯公式/定理}
\subsection{数学公式}
\input{Formula/math.tex}

\subsection{几何公式}
\input{Formula/geometry.tex}

\subsection{经典博弈}
\input{Formula/game.tex}

\subsection{部分质数}
\noindent
$100003$, $200003$, $300007$, $400009$, $500009$, $600011$, $700001$, $800011$, $900001$, \\
$1000003$, $2000003$, $3000017$, $4100011$, $5000011$, $8000009$, $9000011$, \\
$10000019$, $20000003$, $50000017$, $50100007$, \\
$100000007$, $100200011$, $200100007$, $250000019$
%==================================================
\section{语法}
精选部分函数，无特别说明则为98标准
\subsection{C}
\subsubsection{<cstdio>}
\lstinputlisting{Syntax/cstdio.cpp}
\subsubsection{<cctype>}
\lstinputlisting{Syntax/cctype.cpp}
\subsubsection{<cstring>}
\lstinputlisting{Syntax/cstring.cpp}
\subsubsection{<cstdlib>}
\lstinputlisting{Syntax/cstdlib.cpp}
\subsubsection{无头文件}
\lstinputlisting{Syntax/c.cpp}

%under construction!
\subsection{C++}
\subsubsection{<iostream>/<ios>}
\lstinputlisting{Syntax/iostream_ios.cpp}
\subsubsection{Containers}
\lstinputlisting{Syntax/containers.cpp}
\subsubsection{<string>}
\lstinputlisting{Syntax/string.cpp}
%\subsubsection{<algorithm>}
%\lstinputlisting{Syntax/algorithm.cpp}
\subsubsection{<bitset>}
\lstinputlisting{Syntax/bitset.cpp}
%\subsubsection{<complex>}
%\lstinputlisting{Syntax/complex.cpp}
\subsubsection{pb\_ds}
\lstinputlisting{Syntax/pb_ds.cpp}
\subsubsection{rope}
\lstinputlisting{Syntax/rope.cpp}
\subsubsection{unordered\_map}
\lstinputlisting{Syntax/unordered_map.cpp}
\subsubsection{无头文件}
\lstinputlisting{Syntax/c++.cpp}
%==================================================
\section{经典错误}
=和==混淆；scanf没加\&；爆数组/数据范围
\end{document}
